{% extends "base.html" %}

{% block title %}Home - BlogSphere{% endblock %}

{% block content %}
<div class="hero">
    <div class="hero-content">
        <h1>Welcome to BlogSphere</h1>
        <p>Share your thoughts, stories, and ideas with the world</p>
        {% if current_user.is_authenticated and current_user.is_admin %}
        <a href="{{ url_for('create') }}" class="btn btn-primary btn-hero">
            <i class="fas fa-plus"></i> Create New Post
        </a>
        {% elif not current_user.is_authenticated %}
        <div class="hero-actions">
            <a href="{{ url_for('register') }}" class="btn btn-primary btn-hero">
                <i class="fas fa-user-plus"></i> Join Now
            </a>
            <a href="{{ url_for('login') }}" class="btn btn-secondary btn-hero">
                <i class="fas fa-sign-in-alt"></i> Sign In
            </a>
        </div>
        {% endif %}
    </div>
</div>

<div class="posts-section">
    <div class="section-header">
        <h2>Latest Posts</h2>
        <p>Discover the latest stories from our community</p>
    </div>

    <div class="posts-container">
        {% for post in posts %}
        <article class="post-card">
            <div class="post-badge">
                <i class="fas fa-feather"></i>
            </div>
            
            {% if post.has_image() %}
            <div class="post-image">
                <img src="{{ post.get_image_url() }}" alt="{{ post.title }}">
            </div>
            {% endif %}
            
            <div class="post-header">
                <h2><a href="{{ url_for('post', post_id=post.id) }}" class="post-title">{{ post.title }}</a></h2>
                <div class="post-meta">
                    <span class="author"><i class="fas fa-user"></i> {{ post.author }}</span>
                    <span class="date"><i class="fas fa-calendar"></i> {{ post.date_posted.strftime('%B %d, %Y') }}</span>
                </div>
            </div>
            <div class="post-content">
                <p>{{ post.content[:150] }}{% if post.content|length > 150 %}...{% endif %}</p>
            </div>
            <div class="post-actions">
                <a href="{{ url_for('post', post_id=post.id) }}" class="btn btn-read">
                    <i class="fas fa-book-open"></i> Read More
                </a>
                {% if current_user.is_authenticated and current_user.is_admin %}
                <a href="{{ url_for('edit', post_id=post.id) }}" class="btn btn-edit">
                    <i class="fas fa-edit"></i> Edit
                </a>
                <a href="{{ url_for('delete', post_id=post.id) }}" class="btn btn-delete" 
                   onclick="return confirm('Are you sure you want to delete this post?')">
                    <i class="fas fa-trash"></i> Delete
                </a>
                {% endif %}
            </div>
        </article>
        {% else %}
        <div class="no-posts">
            <div class="no-posts-icon">
                <i class="fas fa-feather"></i>
            </div>
            <h3>No posts yet</h3>
            <p>Be the first to share your story!</p>
            {% if current_user.is_authenticated and current_user.is_admin %}
            <a href="{{ url_for('create') }}" class="btn btn-primary">
                <i class="fas fa-plus"></i> Create First Post
            </a>
            {% endif %}
        </div>
        {% endfor %}
    </div>
</div>

<div class="features-section">
    <div class="features-container">
        <div class="feature-card">
            <div class="feature-icon">
                <i class="fas fa-pencil-alt"></i>
            </div>
            <h3>Write Your Story</h3>
            <p>Share your thoughts and experiences with a global audience</p>
        </div>
        <div class="feature-card">
            <div class="feature-icon">
                <i class="fas fa-users"></i>
            </div>
            <h3>Join Community</h3>
            <p>Connect with like-minded writers and readers</p>
        </div>
        <div class="feature-card">
            <div class="feature-icon">
                <i class="fas fa-rocket"></i>
            </div>
            <h3>Easy to Use</h3>
            <p>Simple and intuitive interface for all users</p>
        </div>
    </div>
</div>
{% endblock %}